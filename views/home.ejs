<%- include('partials/header') %>

<div class="home-container">
  <div class="home-hero">
    <div class="home-hero-icon">&#128194;</div>
    <h1>Bienvenue sur Atlas</h1>
    <p class="subtitle">Gerez et partagez vos documents en toute securite, sans compte.</p>
  </div>

  <div class="home-actions">
    <div class="action-card">
      <div class="action-card-icon">&#10010;</div>
      <h2>Creer un espace</h2>
      <p>Creez un nouvel espace de travail pour organiser vos documents.</p>
      <form id="create-workspace-form">
        <input
          type="text"
          name="name"
          id="workspace-name"
          placeholder="Nom de l'espace"
          required
          class="input-field"
          maxlength="100"
        >
        <button type="submit" class="btn btn-primary btn-block">Creer un espace</button>
      </form>
    </div>

    <div class="action-card">
      <div class="action-card-icon">&#128273;</div>
      <h2>Entrer un secret</h2>
      <p>Accedez a un espace ou un document avec votre secret.</p>
      <form id="access-form">
        <div class="secret-input-group">
          <input
            type="password"
            name="secret"
            id="access-secret"
            placeholder="Collez votre secret ici"
            required
            class="input-field"
          >
          <button type="button" class="btn btn-icon" id="toggle-secret" title="Afficher/Masquer">
            &#128065;
          </button>
          <button type="button" class="btn btn-icon" id="paste-secret" title="Coller">
            &#128203;
          </button>
        </div>
        <button type="submit" class="btn btn-secondary btn-block">Acceder</button>
      </form>
    </div>
  </div>

  <!-- Modal for owner secret display -->
  <div id="secret-modal" class="modal hidden">
    <div class="modal-content">
      <h2>Espace cree avec succes</h2>
      <div class="alert alert-warning">
        <span class="alert-icon">&#9888;</span>
        <span>Copiez ce secret maintenant. Il ne pourra plus etre affiche ensuite.</span>
      </div>
      <div class="secret-display">
        <code id="owner-secret-display"></code>
        <button type="button" class="btn btn-primary btn-sm" id="copy-secret">Copier</button>
      </div>
      <p class="text-muted" id="copy-feedback"></p>
      <button type="button" class="btn btn-outline btn-block" id="close-modal">
        J'ai copie mon secret, acceder a l'espace
      </button>
    </div>
  </div>
</div>

<%- include('partials/footer') %>
