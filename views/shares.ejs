<%- include('partials/header') %>

<div class="shares-container">
  <div class="shares-header">
    <h1>Gestion des partages</h1>
    <p class="subtitle"><%= workspace ? workspace.name : 'Espace de travail' %></p>
    <a href="/workspace/<%= workspaceId %>?secret=<%= encodeURIComponent(secret) %>" class="btn btn-ghost btn-sm">
      &#8592; Retour a l'espace
    </a>
  </div>

  <div id="shares-list" class="shares-list"
    data-workspace-id="<%= workspaceId %>"
    data-secret="<%= secret %>">
    <div class="empty-state">
      <span class="empty-state-icon">&#8987;</span>
      <p>Chargement des partages...</p>
    </div>
  </div>
</div>

<!-- Regenerate modal -->
<div id="regenerate-modal" class="modal hidden">
  <div class="modal-content">
    <h2>Nouveau secret de partage</h2>
    <div class="alert alert-warning">
      <span class="alert-icon">&#9888;</span>
      <span>L'ancien secret a ete invalide. Copiez le nouveau secret ci-dessous.</span>
    </div>
    <div class="secret-display">
      <code id="regenerate-secret-display"></code>
      <button type="button" class="btn btn-primary btn-sm" id="copy-regenerate-secret">Copier</button>
    </div>
    <p class="text-muted" id="regenerate-copy-feedback"></p>
    <button type="button" class="btn btn-outline btn-block" id="close-regenerate-modal">Fermer</button>
  </div>
</div>

<%- include('partials/footer') %>
